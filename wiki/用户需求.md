需求故事

回想起高中的时候，班主任制作了一款换座位的软件。当初在全班人面前展示的时候，大家都大受震惊：原来换座位，还能这么有趣，还能这么用软件来生成

如今的我，已经是一个从事四年软件行业的后生仔了，每当想起高中班主任，这款软件还是历历在目。

心想能不能复刻班主任的软件？利用开源的力量，把这款“换座位”软件做好，再推行全国呢。

于是有了下面的故事

需求调研

调研人：

联系高中同学

联系大学同学

联系以前的老师

调研的信息

多久换一次位置？

换位置是否感到不方便？

如果又一款换座位软件，是否会尝试使用？

换座位软件可以快捷制作出座位表

需求分析

用户画像：小初高中生的班主任

需求拆分

可以制作座位表，预制多种座位表，也可以自定义座位表：多行多列

可以录入学生基础信息，例如：姓名/性别

制作完成的座位表，可以支持导出PDF，方便打印

核心复刻点：可以现场演示出座位表，支持动画：类似抽奖的动画

运行环境要求

老师的电脑

教室上的电脑

根据在学生时代的经验，上诉两个场景的运行环境均为：window系统

系统设计

系统架构

vue3+vuerity+tauri

存储设计

边界场景

多平台兼容，大屏适配，满足学校的电脑运行环境

人名可能会同名，需要生成唯一id


需求一：座位表设计的详细补充

背景：

教室的座位表应能清晰展示每个座位的位置，便于老师和学生识别。

座位表的约束：

每一排的座位数可以通过配置文件或界面设置，支持动态调整。

增加座位类型的标识，例如普通座位、教师座位、特殊需求座位等。

边界：

学生总人数 totaltotal 应小于等于座位数 seat_countseat_count，即 total≤seat_counttotal≤seat_count。若不满足，系统应提示并允许管理员选择是否继续。

需求二：学生信息管理的详细补充

背景：

学生信息是座位表的基础，确保信息的准确性和完整性至关重要。

学生的信息字段：

除了姓名、性别和唯一ID，建议增加联系方式、年级、班级等字段，以便于管理。

学生的信息支持导入：

支持通过 CSV 或 Excel 文件批量导入学生信息，导入时需进行数据验证，确保姓名唯一性。

支持管理员（老师）：

提供用户友好的界面，支持手动增删改查学生的信息，确保操作简单直观。

需求三：座位表填充学生的详细补充

填充策略：

随机选择和手动选择两种模式，随机选择时需确保未被选中的学生才可被选中。

提供一键随机填充功能，确保每位学生都能被填充到座位表中。

填充记录：

记录每次填充的历史，便于管理员查看和回溯。

冲突检测：

在填充过程中，增加冲突检测机制，确保同一学生不会被填入多个座位。

需求四：同桌约束的详细补充

男女同桌：

一排座位存在两个位置时，需确保一名男生和一名女生；存在三个位置时，至少需有一名男生或女生。

若班级中男生或女生人数不足，系统应提示无法满足该约束。

同性同桌：

一排座位存在两个位置时，需确保两名男生；存在三个位置时，至少需有三名男生。

若班级中性别比例失衡，系统应提示并提供其他填充方案。

随机同桌：

一排座位存在两个位置时，随机选择学生填入即可。

边界条件：

当班级全部为男生或女生时，无法实现“男女同桌”，系统应优先考虑“同性同桌”或“随机同桌”。

边界场景补充

学生人数不足：

当学生人数少于座位数时，系统应提示并允许管理员选择是否继续填充，或自动调整座位表。

性别比例失衡：

当班级中男生或女生人数过少时，系统应提示无法满足“男女同桌”约束，并提供其他填充方案。

特殊需求学生：

如果有特殊需求的学生（如需要轮椅座位），系统应允许管理员为其指定座位，并在填充时优先考虑。

座位调整后填充：

如果管理员在填充后调整了座位表，系统应提示是否重新填充，避免信息不一致。

数据丢失：

在操作过程中，若发生意外（如程序崩溃），系统应具备自动保存功能，确保数据不丢失。

技术实现建议

前端：

使用 React.js 结合 Ant Design 或 Material-UI 进行组件化开发，提升用户体验。

后端：

使用 Flask 或 Django 作为 Python 后端框架，提供 RESTful API 供前端调用。

数据库：

MongoDB 用于存储学生信息和座位表，SQLite3 用于本地数据存储，确保离线使用。

状态管理：

使用 Redux 或 Context API 管理前端状态，确保数据一致性。

模块拆分

座位表设计模块：负责座位表的创建、修改和可视化展示。

学生信息管理模块：负责学生信息的增删改查、导入导出和数据验证。

座位填充模块：负责根据不同策略填充座位，并处理同桌约束。

历史记录模块：记录每次操作的历史，便于回溯和审计。

通过以上细化的补充，系统将更加完善，能够更好地满足实际需求。