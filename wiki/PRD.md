# 产品需求文档（PRD）

## 智能换座位系统

---

## 一、产品概述

### 1.1 产品定位
面向小初高班主任的桌面应用软件，用于快速生成座位表并支持现场动画演示

### 1.2 核心价值
- 提升班主任换座位效率
- 增强换座位的趣味性和互动性
- 数据化管理学生座位安排

---

## 二、用户角色与使用场景

| 角色 | 使用场景 | 核心诉求 |
|------|----------|----------|
| 班主任 | 定期换座位（每月/每学期） | 快速生成座位表、支持打印 |
| 班主任 | 班会现场演示 | 动画效果展示、增强趣味性 |
| 班主任 | 特殊学生安排 | 灵活调整座位、优先配置 |
| 班主任 | 历史查询 | 回溯座位安排历史 |

### 2.1 运行环境
- 老师办公室电脑（Windows）
- 教室多媒体电脑（Windows）
- 支持离线使用

---

## 三、功能需求详细说明

### 3.1 座位表设计模块
**优先级：P0**

| 功能点 | 描述 | 备注 |
|--------|------|------|
| 预设模板 | 提供2-8列的常见教室布局模板 | 开箱即用 |
| 自定义布局 | 支持自定义行数、列数（1-10列） | 灵活配置 |
| 座位编号模式 | 支持连续编号（01-64）和坐标编号两种模式 | 适应不同场景 |
| 功能区域标注 | 支持标注前门/后门/窗户/讲台/过道位置 | 符合实际教室布局 |
| 座位类型标识 | 普通座位/特殊需求座位 | 视觉区分 |
| 布局预览 | 实时预览座位表效果 | 即时反馈 |
| 布局保存/加载 | 保存常用布局方案 | 复用配置 |

#### 座位编号模式
- **连续编号模式**：01、02、03...（便于打印展示，适合传统教室）
  - 编号规则：从后往前、左右交替（如第1列：01、03、05...）
  - 显示格式：两位数编号（01-64）
- **坐标编号模式**：seat_0_0、seat_0_1（系统内部使用，便于定位）

#### 功能区域标注
- **前门/后门**：标注教室前门和后门位置
- **讲台区域**：标注教室讲台位置（通常在前方中间）
- **窗户位置**：标注教室窗户位置（左侧/右侧）
- **过道区域**：标注教室过道（可选，用于复杂布局）

#### 业务规则
- 学生总数 ≤ 座位总数时才能填充
- 学生总数 > 座位总数时提示警告，允许继续但部分学生无座位
- 功能区域标注不占用座位编号

---

### 3.2 学生信息管理模块
**优先级：P0**

| 功能点 | 描述 | 备注 |
|--------|------|------|
| 学生字段 | 姓名/性别/唯一ID/联系方式/备注 | 基础信息 |
| 手动管理 | 增删改查学生信息 | 单个操作 |
| 批量导入 | 支持CSV/Excel批量导入 | 效率提升 |
| 数据验证 | 姓名唯一性校验 | 数据质量 |
| 信息导出 | 导出学生清单 | 数据备份 |

#### 学生信息字段
- **必填字段**：姓名（唯一）、性别
- **可选字段**：联系方式、年级、班级、备注
- **系统字段**：唯一ID（自动生成）

---

### 3.3 座位填充模块
**优先级：P0**

| 功能点 | 描述 | 备注 |
|--------|------|------|
| 手动填充 | 拖拽学生到座位 | 精确控制 |
| 随机填充 | 一键随机分配所有学生 | 快速生成 |
| 部分重填 | 对空座位或选中座位重新随机 | 灵活调整 |
| 冲突检测 | 防止同一学生占用多个座位 | 数据一致性 |
| 填充历史 | 记录每次填充结果 | 可追溯 |

#### 填充策略
- **随机模式**：从未分配学生池中随机选择
- **手动模式**：用户拖拽指定学生到指定座位
- **混合模式**：手动指定部分座位，其余随机填充

---

### 3.4 同桌约束模块
**优先级：P1**

| 约束类型 | 规则描述 | 适用场景 |
|----------|----------|----------|
| 男女同桌 | 2人座：1男+1女<br>3人座：至少1男1女 | 促进性别交流 |
| 同性同桌 | 2人座：同性别<br>3人座：同性别 | 减少干扰 |
| 随机同桌 | 不限性别，随机分配 | 公平随机 |

#### 边界处理
- 性别比例失衡时，提示无法满足约束，建议切换策略
- 特殊需求学生优先分配，不受约束限制
- 班级全男生/全女生时，自动降级为"同性同桌"或"随机同桌"

---

### 3.5 动画演示模块（核心亮点）
**优先级：P0**

| 功能点 | 描述 | 备注 |
|--------|------|------|
| 抽奖式动画 | 依次点亮座位，显示学生姓名 | 类似抽奖 |
| 动画速度 | 可调节动画播放速度 | 适应不同场景 |
| 全屏模式 | 支持全屏演示，突出显示 | 教室投影 |
| 暂停/继续 | 支持动画过程控制 | 灵活演示 |
| 重新播放 | 可重复播放动画效果 | 多次展示 |

#### 动画效果建议
- 座位依次高亮闪烁（类似抽奖翻牌）
- 配合音效（可选）
- 最终展示完整座位表

---

### 3.6 导出打印模块
**优先级：P1**

| 功能点 | 描述 | 备注 |
|--------|------|------|
| PDF导出 | 导出高清PDF座位表 | 方便打印 |
| 打印预览 | 预览打印效果 | 避免浪费 |
| 页面设置 | 支持A4/A3纸张、横向/纵向 | 适配打印机 |
| 批量打印 | 打印多个班级座位表 | 效率提升 |

---

## 四、非功能性需求

| 类别 | 指标 | 说明 |
|------|------|------|
| **性能** | 启动时间 < 3秒 | 桌面应用标准 |
| **兼容性** | Windows 7/10/11 | 学校电脑环境 |
| **可用性** | 界面简洁，无需培训 | 降低学习成本 |
| **可靠性** | 自动保存，数据不丢失 | 异常保护 |
| **扩展性** | 模块化设计，便于功能扩展 | 未来维护 |
| **大屏适配** | 支持1920x1080及以上分辨率 | 教室投影 |

---

## 五、开发优先级建议

| 阶段 | 功能模块 | 目标 |
|------|----------|------|
| **MVP** | 座位表设计 + 学生管理 + 随机填充 + PDF导出 | 满足基本换座位需求 |
| **V1.0** | 动画演示 + 同桌约束 | 实现核心亮点功能 |
| **V1.5** | 历史记录 + 批量导入 | 提升效率 |
| **V2.0** | 特殊需求优化 + 数据统计 | 功能完善 |

---

## 六、待确认事项

1. **动画效果细节**：是否需要音效？动画时长范围？
2. **多班级管理**：是否需要支持一个老师管理多个班级？
3. **数据同步**：是否需要云端同步功能？
4. **权限管理**：是否需要多用户角色（校长/班主任/任课老师）？
5. **移动端支持**：是否需要Web版本供家长查看？

---

## 附录：边界场景处理

### 学生人数不足
- 当学生人数少于座位数时，系统应提示并允许管理员选择是否继续填充，或自动调整座位表。

### 性别比例失衡
- 当班级中男生或女生人数过少时，系统应提示无法满足"男女同桌"约束，并提供其他填充方案。

### 特殊需求学生
- 如果有特殊需求的学生（如需要轮椅座位），系统应允许管理员为其指定座位，并在填充时优先考虑。

### 座位调整后填充
- 如果管理员在填充后调整了座位表，系统应提示是否重新填充，避免信息不一致。

### 数据丢失
- 在操作过程中，若发生意外（如程序崩溃），系统应具备自动保存功能，确保数据不丢失。

---

**文档版本**：v1.0
**创建日期**：2025-12-27
**产品经理**：Claude
